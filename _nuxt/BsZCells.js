import{_ as b}from"./BEqvGnIl.js";import S from"./BWgnvCf9.js";import{H as C,C as E,u as B,y as L,z as g,r as M,e as I,m as V,h as H,o as s,c as a,a as u,q as r,b as i,w as y,d as R,s as T,B as U,n as $,_ as A}from"./7dZDTWwZ.js";import{u as D}from"./B0JZ5A8T.js";import{u as j}from"./BehmFGS7.js";const q=C("/logo.svg"),z={class:"header container mx-auto my-4 flex items-center justify-start rounded-xl"},K={key:0,class:"header__title w-44 flex-[1_0_auto] text-xl sm:text-3xl md:text-4xl lg:text-5xl font-semibold pe-4 cursor-pointer"},P={class:"header-actions text-xl lg:text-5xl flex gap-1 pe-4"},F=E({__name:"LayoutHeader",setup(G){const e=D(),k=j(),l=B(),o=L(),d=g(()=>o.path.includes("/note")),p=()=>{console.log("route.path:",o.path),console.log("noteStore:",e.currentStep),o.path!=="/"&&e.currentStep!==0?k.openModal("comfirmDiscardChanges"):o.path!=="/"&&e.currentStep===0&&(console.log("router.push"),l.push("/"))},c=M(null),v=()=>e.currentNote.title.length===0,x=()=>{v()||(e.saveNote(),e.resetHistory(),l.push("/"))},m=g({get:()=>e.currentNote,set:n=>e.currentNote=n});I(()=>{c.value&&c.value.focus()});const _=n=>{n.code==="Enter"&&o.path!=="/"?x():n.code==="Space"&&o.path==="/"?l.push("/note/[new]"):n.code==="Escape"&&o.path!=="/"&&p()};return V(()=>{window.addEventListener("keydown",_)}),H(()=>{window.removeEventListener("keydown",_)}),(n,t)=>{const w=b,f=S,N=b;return s(),a("header",z,[u("button",{onClick:p,to:"/"},t[2]||(t[2]=[u("img",{src:q,alt:"Logo",class:"header-logo p-2 h-4"},null,-1)])),r(d)?T((s(),a("input",{key:1,type:"text","onUpdate:modelValue":t[0]||(t[0]=h=>r(m).title=h),placeholder:"My Note",ref_key:"labelInput",ref:c,class:"header__title bg-transparent w-44 flex-[1_0_auto] text-xl sm:text-3xl md:text-4xl lg:text-5xl font-semibold focus:outline-none pe-4"},null,512)),[[U,r(m).title]]):(s(),a("h1",K,[i(w,{to:"/note/[new]"},{default:y(()=>t[3]||(t[3]=[R("My Note")])),_:1})])),u("div",P,[r(d)?(s(),a("button",{key:0,type:"button",class:"btn header__btn",onClick:t[1]||(t[1]=h=>x())},[i(f,{name:"solar:archive-check-broken",class:"text-amber-300 text-3xl sm:text-4xl md:text-5xl hover:text-amber-500"})])):(s(),$(N,{key:1,to:"/note/[new]",class:"btn header__btn hover:text-amber-500"},{default:y(()=>[i(f,{name:"solar:traffic-economy-line-duotone",class:"text-3xl sm:text-4xl md:text-5xl hover:text-amber-500"})]),_:1}))])])}}}),Y=A(F,[["__scopeId","data-v-3c5a0a4c"]]);export{Y as _};
